# Домашнее задание 2

Написать REST API для работы с коллекцией контактов. Для тестирования роутов используй [Postman](https://www.getpostman.com/). Работа должна быть создана в репозитории `hw02-express-mongoose`

## Шаг 1

Создай проект и установи все необходимые пакеты:

- express;
- cors;
- mongoose;
- dotenv;

## Шаг 2

- создай удаленную базу данных на [MongoDB Atlas](https://www.mongodb.com/cloud/atlas), а в ней - коллекцию "contacts";
- возьми [ссылка на json](./contacts.json) и добавь их в коллекцию `contacts`;
- подключись в вашем приложении к базе данных;
- строку подключения к базе нужно хранить в переменных окружения;
- в коллекции должны храниться такие поля с такими требованиями:
  - name:
    - обязательное;
  - email:
    - обязательное;
    - уникальное;
  - phone:
    - обязательное;
    - уникальное;
  - favorite:
    - необязательное;
    - может принимать 2 возможных значения - true или false;
    - если это значение не указано при добавлении объекта в базу, оно должно сохраняться как false;
- все роуты при запросах с фронтенда должны работать с базой данных;

## Шаг 3

Создайте в приложении такие роуты:

### @ GET /api/contacts

- ничего не получает
- возвращает массив всех контактов в json-формате со статусом `200`

### @ GET /api/contacts/:id

- Не получает `body`
- Получает параметр `id`
- Если такой `id` есть, возвращает объект контакта в json-формате со статусом `200`
- Если такого `id` нет, возвращает json с ключом `"message": "Not found"` и статус `404`

### @ POST /api/contacts

- Получает `body` в формате `{name, email, phone}` (все поля обязательны)
- Если в body нет каких-то обязательных полей или они не соответствуют правилам валидации Mongoose-cхемы, возвращает json с ключом `{"message": "missing required name field"}` и статусом `400`
- Если с `body` все хорошо, сохраняет контакт в базу данных;
- Если объект успешно сохранен в базе - возвращает объект с добавленным `id` `{id, name, email, phone}` и статусом `201`

### @ PUT /api/contacts/:id

- Получает параметр `id`
- Получает `body` в формате `{name, email, phone}` (все поля обязательны)
- Если в body нет каких-то обязательных полей или они не соответствуют правилам валидации Mongoose-cхемы, возвращает json с ключом `{"message": "missing required name field"}` и статусом `400`
- Если с `body` все хорошо, контакт обновляется в базе данных;
- Если объект успешно обновлен в базе - возвращает обновленный объект контакта и статусом `200`.
- Если контакта с таким `id` нет, возвращает json с ключом `"message": "Not found"` и статусом `404`

### @ DELETE /api/contacts/:id

- Не получает `body`
- Получает параметр `id`
- если такой `id` есть, удаляет контакт из базы данных и возвращает json формата `{"message": "contact deleted"}` и статусом `200`
- если такого `id` нет, возвращает json с ключом `"message": "Not found"` и статусом `404`

### @ PATCH /api/contacts/:id/favorite

- Получает параметр `id`
- Получает `body` в json-формате c обновлением поля `favorite`
- Если `body` нет или поля в `body` не соответствуют правилам валидации Mongoose-cхемы, возвращает json с ключом `{"message": "missing field favorite"}` и статусом `400`
- Если с `body` все хорошо, обновляет поля `favorite` в базе данных для контакта с этим `id`;
- Если такой `id` есть и поле `favorite` успешно обновлен - возвращает обновленный объект контакта и статус `200`;
- если такого `id` нет, возвращает json с ключом `"message": "Not found"` и статусом `404`

## Шаг 4

Напишите если считаете нужным middleware и controllers, которые помогают структурировать код
